{% extends 'base.html' %}
{% load staticfiles %}
{% load url from future %}
{% load mptt_tags %}

{% block title %}Sections{% endblock %}

{% block content %}

<h1>Sections</h1>

<ul class="unstyled">
  {% recursetree section_list %}
    <li>
        <span class="section-title"><a href="{% url "section-view" node.id %}">{{ node.title }}</a></span>
      {% if not node.is_leaf_node %}
        <ul>
            {{ children }}
        </ul>
      {% endif %}
    </li>
  {% endrecursetree %}
</ul>

    <h2>Speeches</h2>
    <p>These are speeches not attached to a section.</p>

    <ol class="unstyled">
        {% if not speech_list %}
            <li>There are no un-sectioned speeches.</li>
        {% endif %}
        {% for speech in speech_list %}
            {% include "speeches/speech_list_item_with_speaker.html" with speech=speech only %}
        {% endfor %}
    </ol>

{% endblock %}
